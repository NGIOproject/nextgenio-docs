

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FAQs and Common Issues &mdash; nextgenio-docs  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CASTEP" href="../apps/castep.html" />
    <link rel="prev" title="Performance Analysis Tools" href="perftools.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> nextgenio-docs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware.html">System Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="connect.html">Connecting to the System</a></li>
<li class="toctree-l1"><a class="reference internal" href="job_scheduler.html">Submitting Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_scheduler.html">Data Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_systems.html">File Systems and Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="compilers.html">Modules and Compilers</a></li>
<li class="toctree-l1"><a class="reference internal" href="pycompss.html">PyCOMPSs</a></li>
<li class="toctree-l1"><a class="reference internal" href="perftools.html">Performance Analysis Tools</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FAQs and Common Issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#faqs">FAQs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#some-common-issues">Some Common Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#batch-job-submission-failed-requested-node-configuration-is-not-available">Batch job submission failed: Requested node configuration is not available:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#slurmstepd-error-execve-exec-name-no-such-file-or-directory">Slurmstepd: error: execve(): [exec-name] : No such file or directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#symbol-lookup-error">Symbol Lookup Error</a></li>
<li class="toctree-l3"><a class="reference internal" href="#map-command-not-found">map: command not found</a></li>
<li class="toctree-l3"><a class="reference internal" href="#error-running-make-install-during-castep-build">Error running <em>make install</em> during CASTEP build</a></li>
<li class="toctree-l3"><a class="reference internal" href="#error-running-ospray-mpi">Error running OSPRay MPI</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apps/castep.html">CASTEP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/halvade.html">Halvade</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/openfoam.html">OpenFOAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/ospray.html">OSPRay</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/tiramisu.html">Tiramisu</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">nextgenio-docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>FAQs and Common Issues</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/user_guide/faq.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="faqs-and-common-issues">
<h1>FAQs and Common Issues<a class="headerlink" href="#faqs-and-common-issues" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="#ref-qconfig"><span class="std std-ref">Batch job submission failed: Requested node configuration is not available:</span></a></li>
<li><a class="reference internal" href="#ref-qnojobfile"><span class="std std-ref">Slurmstepd: error: execve(): [exec-name] : No such file or directory</span></a></li>
<li><a class="reference internal" href="#ref-qsymbollookup"><span class="std std-ref">Symbol Lookup Error</span></a></li>
<li><a class="reference internal" href="#ref-nomap"><span class="std std-ref">map: command not found</span></a></li>
<li><a class="reference internal" href="#ref-qcastepinstall"><span class="std std-ref">Error running make install during CASTEP build</span></a></li>
<li><a class="reference internal" href="#ref-ospray-mpiinit"><span class="std std-ref">Error running OSPRay MPI</span></a></li>
</ul>
<div class="section" id="faqs">
<h2>FAQs<a class="headerlink" href="#faqs" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="some-common-issues">
<h2>Some Common Issues<a class="headerlink" href="#some-common-issues" title="Permalink to this headline">¶</a></h2>
<div class="section" id="batch-job-submission-failed-requested-node-configuration-is-not-available">
<span id="ref-qconfig"></span><h3>Batch job submission failed: Requested node configuration is not available:<a class="headerlink" href="#batch-job-submission-failed-requested-node-configuration-is-not-available" title="Permalink to this headline">¶</a></h3>
<p>When trying to submit my batch job, I receive the error message:</p>
<div class="admonition error">
<p class="first admonition-title">Error</p>
<p class="last">sbatch: error: Batch job submission failed: Requested node configuration is not available</p>
</div>
<div class="toggle docutils container">
<div class="header docutils container">
<strong>Answer:</strong></div>
<div class="text docutils container">
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>It is possible that the batch scripts requests more cores per node than can
be allocated. When using the <code class="docutils literal notranslate"><span class="pre">cpus-per-task</span></code> option in the batch script,
the maximum number of cores to be requested per task is 48 (the number of
physical cpus on an NGIO node).</p>
<p>If the intention is (e.g.) to use the total number of available logical
cores in a single node, by using hyperthreading, the following code can be
used to request the correct resources. In this example we request a single
node, with two MPI processes (one process per socket, unless the scheduler
is instructe otherwise):</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#SBATCH --nodes=1            ##Just for clarity here</span>
<span class="c1">#SBATCH --ntasks=2</span>
<span class="c1">#SBATCH --overcommit</span>
<span class="c1">#SBATCH --cpus-per-task=48</span>
</pre></div>
</div>
<p>For this example, the total number of logical cpus requested is ntasks *
cpus-per-task = 96. This is the maximum number available on a node.</p>
</div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="slurmstepd-error-execve-exec-name-no-such-file-or-directory">
<span id="ref-qnojobfile"></span><h3>Slurmstepd: error: execve(): [exec-name] : No such file or directory<a class="headerlink" href="#slurmstepd-error-execve-exec-name-no-such-file-or-directory" title="Permalink to this headline">¶</a></h3>
<p>When trying to submit a job I receive the error</p>
<div class="admonition error">
<p class="first admonition-title">Error</p>
<p class="last">Slurmstepd: error: execve(): [exec-name] : No such file or directory</p>
</div>
<p>where [exec-name] is the name of my executable.</p>
<div class="toggle docutils container">
<div class="header docutils container">
<strong>Answer</strong></div>
<div class="text docutils container">
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>This error occurs when the job scheduler cannot find the executable to run.
Make sure that the path specified following mpirun/srun command is correct.
Note that when the job is not submitted from the directory containing the
executable, the full path needs to be specified.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please note that lines in a batch script starting with <em>#SBATCH</em> are not
interpreted by bash. It is therefore not possible to reduce the amount of
repetitious writing by specifying an environment variable for the start of
the path when specifying directories such as <code class="docutils literal notranslate"><span class="pre">#SBATCH</span> <span class="pre">-D</span></code>.</p>
</div>
</div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="symbol-lookup-error">
<span id="ref-qsymbollookup"></span><h3>Symbol Lookup Error<a class="headerlink" href="#symbol-lookup-error" title="Permalink to this headline">¶</a></h3>
<p>When trying to run an executable (using either <em>srun</em> or <em>mpirun</em>) I receive the
error (or similar)</p>
<div class="admonition error">
<p class="first admonition-title">Error</p>
<p class="last">./[exec-name]: symbol lookup error: /opt/intel/compilers_and_libraries_2019.3.199
/linux/mpi/intel64/lib/libmpifort.so.12: undefined symbol: MPI_UNWEIGHTED</p>
</div>
<p>Here [<em>exec-id</em>] is the name of my executable:</p>
<div class="toggle docutils container">
<div class="header docutils container">
<strong>Answer</strong></div>
<div class="text docutils container">
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>This error can occur when the executable has been compiled using mpigcc in
combination with openmpi. Try compiling using:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mpicc</span> <span class="n">mycode</span><span class="o">.</span><span class="n">c</span> <span class="o">-</span><span class="n">o</span> <span class="n">myexec</span>
</pre></div>
</div>
<p>Add the <code class="docutils literal notranslate"><span class="pre">-fopenmp</span></code> option if the application also uses OpenMP.</p>
</div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="map-command-not-found">
<span id="ref-nomap"></span><h3>map: command not found<a class="headerlink" href="#map-command-not-found" title="Permalink to this headline">¶</a></h3>
<p>When trying to use the ARM-MAP profiling tool I receive the following error
message:</p>
<div class="admonition error">
<p class="first admonition-title">Error</p>
<p class="last">/var/spool/slurm/d/[jobID]/slurm_script: line […]: map: command not found</p>
</div>
<div class="toggle docutils container">
<div class="header docutils container">
<strong>Answer</strong></div>
<div class="text docutils container">
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>This error is likely due to the <code class="docutils literal notranslate"><span class="pre">arm-forge</span></code> module not being loaded. You
can check the list of loaded modules by entering <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">list</span></code> and load
the required module by entering <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span> <span class="pre">arm-forge</span></code></p>
</div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="error-running-make-install-during-castep-build">
<span id="ref-qcastepinstall"></span><h3>Error running <em>make install</em> during CASTEP build<a class="headerlink" href="#error-running-make-install-during-castep-build" title="Permalink to this headline">¶</a></h3>
<div class="toggle docutils container">
<div class="header docutils container">
<strong>Answer</strong></div>
<div class="text docutils container">
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The error is likely to occur when building some of the support utilities
for CASTEP. However, the initial command <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">COMMS_ARCH=mpi</span> <span class="pre">FFTW=fftw3</span>
<span class="pre">MATHLIBS=mkl10</span></code> should have built an executable <code class="docutils literal notranslate"><span class="pre">castep.mpi</span></code> and similarly
<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> will have produced a functional executable <code class="docutils literal notranslate"><span class="pre">castep.serial</span></code>.
The latter may be of use for performing dryruns on any input files.</p>
</div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="error-running-ospray-mpi">
<span id="ref-ospray-mpiinit"></span><h3>Error running OSPRay MPI<a class="headerlink" href="#error-running-ospray-mpi" title="Permalink to this headline">¶</a></h3>
<p>When trying to run OSPRay with the <code class="docutils literal notranslate"><span class="pre">--osp:mpi</span></code> setting, I receive the
following error:</p>
<div class="admonition error">
<p class="first admonition-title">Error</p>
<p class="last">osp:api: could not find module initializer ospray_init_module_mpi</p>
</div>
<div class="toggle docutils container">
<div class="header docutils container">
<strong>Answer</strong></div>
<div class="text docutils container">
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>This error may occur when running OSPRay with the <code class="docutils literal notranslate"><span class="pre">--osp:mpi</span></code> setting.
A possible cause is that library path is not linked correctly. In order to
use MPI with OSPRay it is necessary to set <em>LD_LIBARY_PATH</em> to the OSPRay
build directory:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/path/to/build/directory
</pre></div>
</div>
</div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../apps/castep.html" class="btn btn-neutral float-right" title="CASTEP" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="perftools.html" class="btn btn-neutral float-left" title="Performance Analysis Tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, nextgenio_project

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>